<!DOCTYPE html>
<html>
<head>
<link rel="shortcut icon" href="https://181016.xyz/favicon.ico" type="image/x-icon" /><meta name="viewport"content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"/><meta name="apple-mobile-web-app-capable"content="yes"/><meta name="apple-mobile-web-app-status-bar-style"content="black"/><meta name="format-detection"content="telephone=no"/><meta name="renderer"content="webkit"><meta name="description"content="æ¸©æ•…è€ŒçŸ¥æ–°"><meta charset="UTF-8"><title>åŸºäºSentryæ­å»ºå‰ç«¯å¼‚å¸¸ç›‘æ§ç³»ç»Ÿ | Gridea</title>
<link href="https://181016.xyz/styles/main.css" type="text/css" rel="stylesheet" /><link href="https://at.alicdn.com/t/font_1621793_zatzzgvf30g.css" type="text/css" rel="stylesheet" /><link rel="stylesheet" href="https://181016.xyz/media/css/katex.css"><script async src="https://cdn.jsdelivr.net/npm/busuanzi@2.3.0/bsz.pure.mini.min.js"></script><script src="https://181016.xyz/media/js/magnify.min.js"></script><script defer src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.js"></script><script defer src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/auto-render.min.js" onload="renderMathInElement(document.body);"></script>
<script type="text/javascript">function btn_toggle(){document.getElementById("hn").classList.contains("no-js")?document.getElementById("hn").classList.remove("no-js"):document.getElementById("hn").classList.add("no-js")}</script>

<link rel="canonical" href="https://181016.xyz/post/ji-yu-sentry-da-jian-qian-duan-yi-chang-jian-kong-xi-tong/" />
</head>
<body>
<div class="progress"></div><style>.progress{background:linear-gradient(to right,#87ceeb var(--scroll),transparent 0);background-repeat:no-repeat;position:fixed;width:100%;height:4px;z-index:1}</style><div class="darkmode-background"></div><div class="darkmode-layer"></div>
<noscript><p class="warn" >æœ¬é¡µé¢éœ€è¦æµè§ˆå™¨æ”¯æŒï¼ˆå¯ç”¨ï¼‰JavaScript</p></noscript><div class="header"><div class="logo_title"><div class="title animated fadeInDown"><a href="https://181016.xyz"><img alt="logo" style="display:inline-block;" src="https://181016.xyz/images/avatar.png"/></a><h1 title="Gridea" class="weaklink"><a  href="/">Gridea</a></h1>

<div class="navbar weaklink">
<div class="normal_nav">
<div class="bitcron_nav_container"><div class="bitcron_nav"><div class="bitcron_nav"><div style="display:flex;justify-content:center;"><nav class="mixed_site_nav_wrap site_nav_wrap"><ul class="mixed_site_nav site_nav sm sm-base">	<li><a id="d2ef19af68cc211e98f8a0242ac110003" href="/" class="selected active current nav__item" >é¦–é¡µ</a></li><li><a id="d2ef19af68cc211e98f8a0242ac110003" href="/archives" class="selected active current nav__item" >å½’æ¡£</a></li><li><a id="d2ef19af68cc211e98f8a0242ac110003" href="/tags" class="selected active current nav__item" >æ ‡ç­¾</a></li><li><a id="d2ef19af68cc211e98f8a0242ac110003" href="/post/about" class="selected active current nav__item" >å…³äº</a></li></ul></nav>
<div style="float:right;margin-top:1em"><form id="gridea-search-form" data-update="1578893743252" action="/search/index.html"><input class="search-input" autocomplete="off" spellcheck="false" name="q" placeholder="Search..."></form></div><div style="margin-left:0.5em;margin-top:1.2em"><input id="switch_default" onclick="mobileBtn()" type="checkbox" class="switch_default"><label for="switch_default" class="toggleBtn"></label></div></div>
<div class="clear clear_nav_inline_end"></div></div></div><div class="clear clear_nav_end"></div></div></div><div class="hamberger" href="javascript:void(0)" onclick="btn_toggle();"><i class="iconfont icon-category"></i></div></div></div></div>
<div id="hn" class="no-js hidden_nav animated fadeInDown"><div class="bitcron_nav_container"><div class="bitcron_nav"><nav class="mixed_site_nav_wrap site_nav_wrap"><ul class="mixed_site_nav site_nav sm sm-base">	<li><a id="d2ef19af68cc211e98f8a0242ac110003" href="/" class="selected active current nav__item" >é¦–é¡µ</a></li><li><a id="d2ef19af68cc211e98f8a0242ac110003" href="/archives" class="selected active current nav__item" >å½’æ¡£</a></li><li><a id="d2ef19af68cc211e98f8a0242ac110003" href="/tags" class="selected active current nav__item" >æ ‡ç­¾</a></li><li><a id="d2ef19af68cc211e98f8a0242ac110003" href="/post/about" class="selected active current nav__item" >å…³äº</a></li></ul><div class="clear clear_nav_inline_end"></div></nav></div><div class="clear clear_nav_end"></div></div>
<div style="display:flex;justify-content:center;inline-block;text-align:center;margin-top:7%"><div><form id="gridea-search-form" data-update="1700192119215" action="/search/index.html"><input class="search-input" autocomplete="off" spellcheck="false" name="q"  placeholder="Search..." /></form></div><div style="margin-left:0.5em"><input id="switch_default_h" onclick="mobileBtn()" type="checkbox" class="switch_default"><label for="switch_default" class="toggleBtn"></label></div></div>
</div></div>
<script>function enableDarkmode(){document.body.classList.add("darkmode"),document.getElementById("switch_default").checked=1,document.getElementById("switch_default_h").checked=1}function removeDarkmode(){document.body.classList.remove("darkmode"),document.getElementById("switch_default").checked=0,document.getElementById("switch_default_h").checked=0}function getCookie(a){var b,c=new RegExp("(^| )"+a+"=([^;]*)(;|$)");return(b=document.cookie.match(c))?unescape(b[2]):null}cookie=getCookie("darkmode"),"enable"==cookie&&enableDarkmode(),window.matchMedia("(prefers-color-scheme: dark)").matches&&"disable"!==cookie&&(enableDarkmode(),document.cookie="darkmode=enable; path=/");var mobileBtn=function(){1==document.getElementById("switch_default").checked?(enableDarkmode(),document.cookie="darkmode=enable; path=/"):(removeDarkmode(),document.cookie="darkmode=disable; path=/")};</script>

<div class="main"><div class="main-inner"><div class="content">
<article class="post">
<h2 class="post_title sm_margin"><a>åŸºäºSentryæ­å»ºå‰ç«¯å¼‚å¸¸ç›‘æ§ç³»ç»Ÿ</a></h2>
<script>function lan(){if(document.getElementById("lan").innerText=="ç¹"){var s=document.getElementById("tongwenlet_cn");if(s!=null){document.body.removeChild(s)}var s=document.createElement("script");s.language="javascript";s.type="text/javascript";s.src="https://cdn.jsdelivr.net/gh/qyxtim/Static@1.1/bookmarklet_tw.js";s.id="tongwenlet_cn";document.body.appendChild(s);document.getElementById("lan").innerHTML="ç®€"}else{if(document.getElementById("lan").innerText=="ç°¡"){var s=document.getElementById("tongwenlet_cn");if(s!=null){document.body.removeChild(s)}var s=document.createElement("script");s.language="javascript";s.type="text/javascript";s.src="https://cdn.jsdelivr.net/gh/qyxtim/Static@1.1/bookmarklet_cn.js";s.id="tongwenlet_cn";document.body.appendChild(s);document.getElementById("lan").innerHTML="ç¹"}}};</script>
<section class="post_details"><i class="iconfont icon-calendar"></i><span style="margin-right:15px"> 2021-12-22</span><i class="iconfont icon-browse"></i><span style="margin-right:15px"> <span id="busuanzi_value_page_pv"></span> Views</span><i class="iconfont icon-category"></i><span class="weaklink" style="margin-right:15px"></span><i class="iconfont icon-caret-down"></i><span style="margin-right:15px">3482å­—</span><i class="iconfont icon-naozhong"></i><span style="margin-right:15px">14 min read</span><a id="lan" href="javascript:void(0);"onclick="lan();"title="è°ƒæ•´ç®€ç¹ä½“" style="margin-right:15px;">ç¹</a>
</section>

<div style="display:flex">
<div class="md_block" id="md_block">
<div class="round-shape-one"></div>
<p>èƒŒæ™¯<br>
è™½ç„¶åœ¨æˆ‘ä»¬çš„é¡¹ç›®ä¸Šçº¿å‰ä¼šæœ‰å¾ˆå¤šçš„æµ‹è¯•æµç¨‹ï¼Œä½†æ˜¯æµ‹è¯•æµç¨‹è‚¯å®šæ— æ³•ä¿è¯ 100%è¦†ç›–æ‰€æœ‰æ“ä½œåœºæ™¯ï¼Œåœ¨ç”¨æˆ·çš„ä½¿ç”¨è¿‡ç¨‹ä¸­ä»ä¼šæœ‰ä¸€äº›é—®é¢˜æš´éœ²å‡ºæ¥ã€‚<br>
ä½†å½“çº¿ä¸Šç”¨æˆ·å‡ºç°é—®é¢˜ï¼Œæˆ‘ä»¬éœ€è¦æ”¶åˆ°ç”¨æˆ·çš„ä¸€ä¸ªåé¦ˆï¼Œæ‰èƒ½å»å®šä½è§£å†³ï¼Œè¿™æ ·ä¼šå¯¼è‡´æˆ‘ä»¬çš„é—®é¢˜è§£å†³ä¸å¤ŸåŠæ—¶ã€‚<br>
å¹¶ä¸”æœ‰äº›ç–‘éš¾æ‚ç—‡ï¼Œæˆ‘ä»¬æ— æ³•å¤ç°å®šä½ï¼Œè¿™æ—¶å€™æˆ‘ä»¬éœ€è¦å¾—çŸ¥ç”¨æˆ·çš„ç¯å¢ƒã€æ“ä½œç­‰ä¿¡æ¯ï¼Œä»¥ä¾¿äºå¯¹é—®é¢˜è¿›è¡Œæ’æŸ¥ã€‚<br>
åŸºäºä»¥ä¸Šä¸‰ç‚¹è€ƒè™‘ï¼Œæˆ‘è®¤ä¸ºåœ¨å¤§éƒ¨åˆ†é¡¹ç›®ä¸­éƒ½éœ€è¦æ¥å…¥ä¸€ä¸ªå¼‚å¸¸ç›‘æ§ç³»ç»Ÿï¼Œæ¥å®ç°æ”¶é›†å¼‚å¸¸ã€æ”¶é›†æ—¥å¿—ä¿¡æ¯ã€åŠæ—¶è­¦å‘Šã€å±•ç¤ºç»Ÿè®¡ä¿¡æ¯ç­‰åŠŸèƒ½ã€‚</p>
<p>ä¸ºä»€ä¹ˆé€‰æ‹© Sentryï¼Ÿ<br>
å…è´¹<br>
Sentry å¯ç›´æ¥ä½¿ç”¨ä¹Ÿå¯è‡ªè¡Œæ­å»º<br>
å…¼å®¹æ€§å¼ºï¼ŒåŸºæœ¬ä¸å—è¯­è¨€é™åˆ¶ï¼Œæ­å»ºä¸€å¥—ç³»ç»Ÿå¯ç”¨äºå¤šä¸ªé¡¹ç›®ã€‚<br>
Sentryå¯é€‚ç”¨å¹³å°<br>
Sentry ç®€ä»‹<br>
Sentry's application monitoring platform helps every developer<br>
diagnose, fix, and optimize the performance of their code.<br>
Sentry çš„åº”ç”¨ç¨‹åºç›‘è§†å¹³å°å¯å¸®åŠ©æ¯ä¸ªå¼€å‘äººå‘˜è¯Šæ–­ï¼Œä¿®å¤å’Œä¼˜åŒ–å…¶ä»£ç çš„æ€§èƒ½ã€‚</p>
<p>Sentry éƒ¨ç½²åŠä½¿ç”¨<br>
Sentry å¯ç›´æ¥ä½¿ç”¨ä¹Ÿå¯è‡ªè¡Œæ­å»ºï¼Œä¸‹é¢å°†è®²è§£ Sentry çš„æ­å»ºè¿‡ç¨‹ã€‚æƒ³è¦ç›´æ¥ä½“éªŒçš„å¯ä»¥è·³è¿‡ç›´æ¥æˆ³å®˜ç½‘è¿›è¡Œä½“éªŒã€‚</p>
<p>å®˜æ–¹æä¾›å®‰è£…æ–¹å¼æ˜¯ä½¿ç”¨ Docker å’Œ Docker Compose ä»¥åŠåŸºäº bash çš„å®‰è£…å’Œå‡çº§è„šæœ¬ã€‚</p>
<p>ç¯å¢ƒè¦æ±‚<br>
Docker 19.03.6+<br>
Compose 1.24.1+<br>
4 CPU Cores<br>
8 GB RAM<br>
20 GB Free Disk Space<br>
Python 3<br>
è¿™é‡Œå°±ä¸å¯¹ç¯å¢ƒçš„é…ç½®è¿›è¡Œè¯¦ç»†è¯´æ˜ï¼Œæƒ³è‡ªå·±æ­å»ºçš„åŒå­¦å¯ä»¥å‚è€ƒä¸‹ä»¥ä¸‹æ–‡ç« ã€‚</p>
<p>yum æ–¹å¼å®‰è£…å‡çº§ docker<br>
æ–°è£…çš„ CentOS 7 å®‰è£… python3<br>
éƒ¨ç½²æ­¥éª¤<br>
ä» github ä¸Šè·å– Sentry æœ€æ–°ä»£ç ã€‚<br>
git clone https://github.com/getsentry/onpremise.git<br>
è¿›å…¥ onpremise ï¼Œè¿è¡Œ install.sh è„šæœ¬ã€‚<br>
cd onpremise<br>
./install.sh<br>
è¿è¡Œ docker-compose up -d ä»¥å¯åŠ¨ Sentryã€‚<br>
æŒ‰ç…§é»˜è®¤é…ç½®æ„å»ºåï¼ŒSentry é»˜è®¤ç»‘å®š 9000 ç«¯å£ï¼Œè®¿é—® http://127.0.0.1:9000 å³å¯è¿›å…¥ç™»å½•é¡µé¢ã€‚</p>
<p>æ‰“å¼€é¡µé¢å¡«å†™ä¿¡æ¯åå³å¯è¿›å…¥ Sentry ç³»ç»Ÿ<br>
åˆå§‹åŒ–ç•Œé¢</p>
<p>è‡ªåŠ¨å‘é€è­¦å‘Šé‚®ä»¶é…ç½®ï¼Œå¯ä»¥ä»ä¸Šå›¾é…ç½®ï¼Œä¹Ÿå¯ä»¥ä»é…ç½®æ–‡ä»¶é…ç½®ï¼Œä¸‹é¢ä¸ºé€šè¿‡ config.yml é…ç½®æ•™ç¨‹ã€‚<br>
æ‰“å¼€ onpremise/sentry ä¸‹çš„ config.yml æ–‡ä»¶ï¼Œä¿®æ”¹ Mail Server é…ç½®å†…å®¹ã€‚<br>
å¼‚å¸¸è­¦å‘Šå‘é€é‚®ä»¶é…ç½®<br>
mail.backendï¼šé‚®ä»¶å‘é€æ–¹å¼ï¼›<br>
mail.host: é‚®ä»¶å‘é€åŸŸå ï¼Œä½¿ç”¨çš„å“ªä¸ªé‚®ç®±å¯ä»¥å»è¯¥é‚®ç®±æ–‡æ¡£ä¸­æ‰¾åˆ° smtp å‘é€åŸŸåï¼›<br>
mail.port: é‚®ä»¶å‘é€çš„ç«¯å£å·ï¼›<br>
mail.usernameï¼šç”¨äº smtp é‚®ç®±çš„è´¦å·ï¼›<br>
mail.passwordï¼šç”¨äº smtp é‚®ç®±çš„å¯†ç ï¼›<br>
mail.use-tlsï¼šæ˜¯å¦ä½¿ç”¨ tls å®‰å…¨åè®®ï¼Œè¿™é‡Œå¡«å†™ true æˆ– falseï¼Œå’Œ use-ssl é…ç½®äº’æ–¥ï¼›<br>
mail.use-sslï¼šæ˜¯å¦ä½¿ç”¨ ssl å®‰å…¨åè®®ï¼Œè¿™é‡Œå¡«å†™ true æˆ– falseï¼Œå’Œ use-tls é…ç½®äº’æ–¥ï¼›<br>
mail.fromï¼šæ”¶åˆ°é‚®ä»¶æ—¶çš„å‘é€äººåç§°ï¼›<br>
é€šè¿‡é…ç½®æ–‡ä»¶ä¿®æ”¹é‚®ä»¶æœåŠ¡åï¼Œéœ€è¦è¿è¡Œ docker-compose up -d  æ›´æ–° Sentryï¼Œå¦‚æœæ›´æ–°å¤±è´¥åˆ™éœ€è¦å…³é—­ docker-compose åé‡æ–°è¿è¡Œã€‚<br>
docker-compose down<br>
docker-compose build<br>
docker-compose up -d<br>
é‡å¯åå¯é€šè¿‡ å¤´åƒ-&gt; admin -&gt; mail è¿›å…¥ mail é…ç½®é¡µï¼Œç‚¹å‡»å‘é€æµ‹è¯•é‚®ä»¶æ¥æ£€æµ‹æ˜¯å¦é…ç½®æˆåŠŸã€‚</p>
<p>æµ‹è¯•é‚®ä»¶æœåŠ¡é…ç½®</p>
<p>Sentry è®¾ç½®é€šè¿‡ HTTPS è®¿é—®<br>
æœ‰æ²¡æœ‰å‘ç°ä¸Šé¢ Sentry çš„å¯åŠ¨åœ°å€è¿˜æœ‰ DSN åœ°å€éƒ½æ˜¯ httpï¼Œç°åœ¨è¦ç»™ Sentry é…ç½® ssl è®©æˆ‘ä»¬èƒ½é€šè¿‡ https ä½¿ç”¨ã€‚</p>
<p>é¦–å…ˆè¦ä¿®æ”¹ onpremise/sentry/config.yml system.url-prefix é…ç½®ï¼Œå°†å…¶è®¾ç½®ä¸ºæˆ‘ä»¬è®¿é—®çš„ Sentry åŸŸåã€‚ url-prefix ç»„æˆäº†é¡¹ç›®çš„ DSN åœ°å€ï¼Œä¸€å®šè¦ä¿è¯æ ¼å¼æ­£ç¡®ã€‚</p>
<p>system.url-prefix: 'https://sentry.xxxxx.com:60000'<br>
ç„¶åæ˜¯ onpremise/sentry/sentry.conf.py æ–‡ä»¶ä¸‹çš„ SSL/TLS é…ç½®ï¼Œå°†åŸæ¥æ³¨é‡Šçš„éƒ¨åˆ†å…¨éƒ¨æ‰“å¼€ã€‚<br>
ä¿®æ”¹ SSL/TLS é…ç½®</p>
<p>ä¿®æ”¹å®ŒååŒæ ·è¦å°† docker-compose å…³æ‰é‡å»ºã€‚</p>
<p>docker-compose down<br>
docker-compose build<br>
docker-compose up -d<br>
ä¸Šé¢çš„é…ç½®åªæ˜¯è®© Sentry å…è®¸é€šè¿‡ SSL ä»£ç†ï¼Œä¸‹é¢æˆ‘ä»¬éœ€è¦åœ¨æœåŠ¡å™¨å†…æ­å»ºä¸€ä¸ª nginx ç”¨æ¥è½¬å‘ https åè®®å†…å®¹ï¼Œæ­å»ºçš„è¿‡ç¨‹ä¸å¤šè¯´ï¼Œç™¾åº¦æˆ–è€…è¯·æ•™è¿ç»´å¤§å¤§ã€‚ä¸‹é¢æ˜¯æˆ‘çš„ nginx é…ç½®ï¼Œé…å¥½ nginx å¹¶é‡å¯åå°±ç®—å¤§åŠŸå‘Šæˆã€‚æˆ‘ä»¬çš„ Sentry ç»ˆäºå¯ä»¥é€šè¿‡ https è®¿é—®äº†ï¼</p>
<p>server {<br>
# é…ç½®ç›‘å¬ç«¯å£<br>
listen       60000 ssl http2 default_server;<br>
listen       [::]:60000 ssl http2 default_server;</p>
<pre><code># åŸŸå
server_name  sentry.xxxxx.cn;

# nginx é»˜è®¤æ ¹ç›®å½•
root         /usr/share/nginx/html;

# åŠ è½½å…¶ä»–é…ç½®æ–‡ä»¶ï¼Œè¿™é‡Œæ˜¯ nginx é»˜è®¤é…ç½®ï¼Œå¯ä»¥ä¸éœ€è¦
include /etc/nginx/default.d/*.conf;

# ssl è®¾ç½®
ssl on;
# ssl è¯ä¹¦åœ°å€
ssl_certificate     /etc/nginx/sslcert/server.crt;
# ssl å¯†é’¥åœ°å€
ssl_certificate_key /etc/nginx/sslcert/server.key;
ssl_session_cache shared:SSL:1m;
ssl_session_timeout  10m;

ssl_protocols TLSv1 TLSv1.1 TLSv1.2;
ssl_ciphers EECDH+AES128:RSA+AES128:EECDH+AES256:RSA+AES256:EECDH+3DES:RSA+3DES:!MD5;
ssl_prefer_server_ciphers on;


client_max_body_size 200M;
client_body_buffer_size 1024k;

# è¿™ä¸€æ®µæ˜¯æœ€é‡è¦çš„ï¼Œå°†åŸŸåä»£ç†åˆ°æœ¬æœº http://localhost:9000 æœåŠ¡ä¸Šï¼Œå¯¹åº”çš„å°±æ˜¯ docker å†…çš„ sentry æœåŠ¡
location / {
    proxy_pass http://localhost:9000;
}

gzip  on;
gzip_http_version 1.1;
gzip_vary on;
gzip_comp_level 9;
gzip_proxied any;
gzip_types text/plain  text/css application/json  application/x-javascript text/xml application/xml application/xml+rss text/javascript application/x-shockwave-flash image/png image/x-icon image/gif image/jpeg;
gzip_buffers 16 8k;

error_page 404 /404.html;
    location = /404.html {
}

error_page 500 502 503 504 /50x.html;
    location = /50x.html {
}
</code></pre>
<p>}<br>
Sentry æ¥å…¥å®ä¾‹<br>
é€šè¿‡ä¸Šé¢çš„è¿‡ç¨‹ Sentry ç³»ç»Ÿå°±æ­å»ºå¥½äº†ï¼Œè®¿é—®é…ç½®çš„åœ°å€å³å¯è¿›å…¥ Sentry ç³»ç»Ÿã€‚æ²¡æœ‰æ­å»ºçš„æœ‹å‹ä»¬ï¼Œä¹Ÿå¯ä»¥ç›´æ¥é€šè¿‡å®˜ç½‘ä½“éªŒä¸‹é¢æ¥å…¥é¡¹ç›®çš„è¿‡ç¨‹ã€‚</p>
<p>åˆ›å»ºé¡¹ç›®<br>
è¿›å…¥ç³»ç»Ÿåç‚¹å³ä¸Šè§’çš„ New Project  åˆ›å»ºé¡¹ç›®ã€‚</p>
<p>Sentry åˆ›å»ºé¡¹ç›®</p>
<p>è¿™é‡Œä»¥ React é¡¹ç›®ä¸ºä¾‹ï¼Œå»ºç«‹ä¸€ä¸ª React é¡¹ç›®ï¼ŒæŒ‰ç…§é¡µé¢æç¤ºå³å¯åœ¨é¡¹ç›®ä¸­æ³¨å†Œ Sentryï¼Œå¯¹ç³»é¡¹ç›®æ‰§è¡Œä¸­å‡ºç°çš„å¼‚å¸¸è¿›è¡Œæ•æ‰ã€‚</p>
<p>Sentryæ¥å…¥é¡¹ç›®åŠåˆå§‹åŒ–</p>
<p>é…ç½®<br>
Sentry é…ç½®åº”åœ¨åº”ç”¨ç¨‹åºçš„ç”Ÿå‘½å‘¨æœŸä¸­å°½æ—©è¿›è¡Œã€‚å®Œæˆæ­¤æ“ä½œåï¼ŒSentry çš„ JavaScript SDK ä¼šæ•è·æ‰€æœ‰æœªå¤„ç†çš„å¼‚å¸¸å’Œäº‹åŠ¡ã€‚init å‚æ•°è¯¦è§£ï¼š</p>
<p>Sentry.init({<br>
// Sentry é¡¹ç›®çš„ dsnï¼Œå¯ä»é¡¹ç›®è®¾ç½®ä¸­è·å–<br>
dsn: &quot;https://xxxxxx@161.xxx.xxx.xxx:9000/2&quot;,<br>
// åˆå§‹å‚æ•°é…ç½®å†…å®¹<br>
integrations: [new Integrations.BrowserTracing()],<br>
// è§¦å‘å¼‚å¸¸åå‘é€ç»™ Sentry çš„æ¦‚ç‡<br>
tracesSampleRate: 1.0,<br>
// æ§åˆ¶åº”æ•è·çš„é¢åŒ…å±‘(è¡Œä¸ºæ ˆ)çš„æ€»é‡<br>
maxBreadcrumbs: 20,<br>
// è§„å®šä¸Šä¸‹æ–‡æ•°æ®ç»“æ„çš„æ·±åº¦ï¼Œé»˜è®¤ä¸º 3<br>
normalizeDepth: 100,<br>
// ç‰ˆæœ¬ä¿¡æ¯<br>
release: &quot;common@1.0.0&quot;,<br>
// ç¯å¢ƒä¿¡æ¯<br>
environment: process.env.NODE_ENV,<br>
// é’©å­å‡½æ•°ï¼Œåœ¨æ¯æ¬¡å‘é€ event å‰è§¦å‘<br>
beforeSend(event) {<br>
// ç½‘é¡µåº”ç”¨åˆ·æ–°åè®¾ç½®çš„å˜é‡ä¼šæ¶ˆå¤±ï¼Œæ‰€ä»¥æˆ‘é€‰æ‹©åœ¨ beforeSend è§¦å‘æ—¶æ’å…¥ç”¨æˆ·ä¿¡æ¯<br>
event.user = {<br>
userNick: &quot;xiaohu&quot;,<br>
};<br>
return event;<br>
},<br>
});<br>
è®¾ç½®å˜é‡<br>
åœ¨ Sentry ä¸­ï¼Œå¯ä»¥ä½¿ç”¨ set + tagsï¼Œextraï¼Œcontextsï¼Œuserï¼Œlevelï¼Œfingerprint å½¢å¼ï¼Œè®¾ç½®å˜é‡ã€‚ä¸‹é¢å°†ç®€å•ä»‹ç»å‡ ç§æ–¹å¼ï¼Œè¯¦æƒ…ä½¿ç”¨æ–¹æ³•å¯è§æ–‡æ¡£ã€‚</p>
<p>é€šè¿‡ setUser è®¾ç½®å…¨å±€å˜é‡ç”¨æˆ·ä¿¡æ¯ç¤ºä¾‹ï¼ˆä¸å»ºè®®ä½¿ç”¨ï¼‰<br>
æ•æ‰å¼‚å¸¸è¿˜éœ€è¦é‡‡é›†ç”¨æˆ·ä¿¡æ¯ï¼Œåœ¨ç”¨æˆ·ç™»å½•åéœ€è¦é€šè¿‡ setUser è®¾ç½®ä¸€ä¸‹ç”¨æˆ·ä¿¡æ¯å…¨å±€å˜é‡ï¼Œå¦‚ä¸‹æ‰€ç¤ºã€‚æ³¨æ„ï¼Œé€šè¿‡è¿™ç§æ–¹å¼è®¾ç½®çš„å…¨å±€å˜é‡åœ¨é¡µé¢åˆ·æ–°åä¼šæ¶ˆå¤±ã€‚è®¾ç½®ç”¨æˆ·ä¿¡æ¯ä»£ç ï¼š</p>
<p>Sentry.setUser({<br>
tenant: {<br>
code: 12345,<br>
name: 'æµ‹è¯•å…¬å¸',<br>
_id: 12345<br>
},<br>
orgAccount: {<br>
_id: 54321,<br>
orgName: 'æ˜¯æœºæ„å•¦'<br>
},<br>
user: {<br>
_id: '8910JQ',<br>
loginName: 'æµ‹è¯•äººå‘˜å°Q'<br>
}<br>
})<br>
è®¾ç½®å…¨å±€å˜é‡åè§¦å‘çš„ issue ä¸­ï¼Œå¯çœ‹åˆ°ä¸Šä¼ çš„ç”¨æˆ·æ•°æ®ã€‚</p>
<p>è‡ªå®šä¹‰ user æ•°æ®å±•ç¤º</p>
<p>é€šè¿‡ beforeSnd æ’å…¥ç”¨æˆ·ä¿¡æ¯<br>
é€šè¿‡ Sentry æœºåˆ¶è®¾ç½®çš„å…¨å±€å˜é‡åœ¨é¡µé¢åˆ·æ–°åä¼šæ¶ˆå¤±ï¼Œè¿™è¾¹æˆ‘å»ºè®®é€šè¿‡ beforeSend  å‡½æ•°ï¼Œä¿®æ”¹ event ä¸­çš„æ•°æ®æ¥æ’å…¥éœ€è¦çš„å…¨å±€å˜é‡ã€‚</p>
<p>Sentry.init({<br>
...,<br>
// é’©å­å‡½æ•°ï¼Œåœ¨æ¯æ¬¡å‘é€ event å‰è§¦å‘<br>
beforeSend(event) {<br>
// åœ¨è¿™é‡Œå¯æ ¹æ®ä¸šåŠ¡æƒ…å†µå‘é€ç”¨æˆ·ä¿¡æ¯<br>
event.user = {<br>
userNick: 'xiaohu'<br>
};<br>
return event;<br>
}<br>
});<br>
è®¾ç½®å…¨å±€å˜é‡<br>
// ä»¥ä¸‹æ˜¯ Sentry å®šä¹‰çš„å…¨å±€å˜é‡ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ Sentry api è®¾ç½®<br>
Sentry.setUser(object);<br>
Sentry.tags(object);<br>
Sentry.extra(object);<br>
Sentry.level(object);<br>
Sentry.fingerprint(object);</p>
<p>// é€šè¿‡ setContextï¼Œè®¾ç½® key å€¼ï¼Œå¯è‡ªå®šä¹‰éšäº‹ä»¶ä¼ é€’çš„å˜é‡å<br>
Sentry.setContext(key, context);<br>
è®¾ç½®å±€éƒ¨å˜é‡<br>
captureException æ˜¯æˆ‘å¸¸ç”¨çš„ä¸€ç§è®¾ç½®å±€éƒ¨å˜é‡å¹¶ä¸Šä¼ æŠ¥é”™çš„æ–¹å¼ï¼ŒSentry.captureException(err[, obj]) ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºæŠ›å‡ºçš„å¼‚å¸¸ï¼Œç¬¬äºŒä¸ªå‚æ•°å¯é™„åŠ é”™è¯¯ä¿¡æ¯ã€‚<br>
ç¬¬äºŒä¸ªå‚æ•°ä¸ºå¯¹è±¡ï¼Œkey å€¼å¯ä¸º tagsï¼Œextraï¼Œcontextsï¼Œuserï¼Œlevelï¼Œfingerprint è¿™ 6 ç§ã€‚</p>
<p>Sentry.captureException(error, {<br>
contexts: {<br>
message: {<br>
a: 1,<br>
b: { b: 1 },<br>
},<br>
},<br>
});<br>
è®¾ç½®å±€éƒ¨å˜é‡ç½‘ç»œæŠ¥é”™ä¿¡æ¯ç¤ºä¾‹<br>
æ ¹æ®ç›®å‰å‰ç«¯æ¡†æ¶æ‰€ç”¨çš„ axiosï¼Œå¯¹ç½‘ç»œè¯·æ±‚å‡ºé”™çš„å±€éƒ¨æ•°æ®è¿›è¡Œæ”¶é›†ï¼Œä»£ç ç¤ºä¾‹ï¼š</p>
<p>Sentry.captureException(error, {<br>
contexts: {<br>
message: {<br>
url: error.response.config.baseURL + error.response.config.url,<br>
data: error.response.config.data,<br>
method: error.response.config.method,<br>
status: error.response.status,<br>
statusText: error.response.statusText,<br>
responseData: JSON.stringify(error.response.data),<br>
},<br>
},<br>
});<br>
æ¸…é™¤å…¨å±€å˜é‡<br>
åœ¨ç”¨æˆ·é€€å‡ºç™»å½•åéœ€è¦æ¸…é™¤è¯¥ç”¨æˆ·çš„ç”¨æˆ·ä¿¡æ¯ï¼Œæœ‰ä»¥ä¸‹ä¸¤ç§æ–¹å¼ã€‚</p>
<p>é€šè¿‡è®¾ç½®ä¸ºç©ºï¼Œå¯ä»¥æ¸…é™¤è®¾ç½®è¿‡çš„æ•°æ®ã€‚<br>
Sentry.setUser();<br>
é€šè¿‡ scope.clear()  æ¸…é™¤å…¨å±€å˜é‡ã€‚<br>
Sentry.configureScope((scope) =&gt; scope.clear()); // æ¸…é™¤æ‰€æœ‰å…¨å±€å˜é‡<br>
Sentry.configureScope((scope) =&gt; scope.setUser(null)); // æ¸…é™¤ user å˜é‡<br>
ä¸Šä¼ æ—¥å¿—ä¿¡æ¯<br>
æœ‰æ—¶æˆ‘ä»¬ä¸ä»…ä»…è¦æ”¶é›†å¼‚å¸¸ä¿¡æ¯ï¼Œè¿˜éœ€è¦åœ¨é¡µé¢ä¸­æ‰“ log æ¥æ”¶é›†é¡µé¢è¿è¡Œæ•°æ®ï¼Œè¿™æ—¶å¯ä»¥ç”¨ Sentry.captureMessage(err[, obj]) apiï¼Œè¿›è¡Œä¼ è¾“æ—¥å¿—ã€‚ä½¿ç”¨æ–¹æ³•ä¸ captureException ä¸€è‡´ï¼Œå»ºè®®å°† level è®¾ç½®ä¸º Infoï¼Œä¾¿äºä¸å¼‚å¸¸åŒºåˆ†å¼€æ¥ï¼Œé¿å…è§¦å‘æˆ‘ä»¬è®¾ç½®çš„å¼‚å¸¸è­¦æŠ¥ã€‚</p>
<p>Sentry.captureMessage(&quot;Something went fundamentally wrong&quot;, {<br>
contexts: {<br>
text: {<br>
hahah: 22,<br>
},<br>
},<br>
level: Sentry.Severity.Info,<br>
});<br>
ä¸Šä¼  sourceMap<br>
Sentry å¯å°†å‰ç«¯é¡¹ç›®æ‰“åŒ…åçš„ SourceMap ä¸Šä¼ ï¼Œæ–¹ä¾¿æˆ‘ä»¬æŸ¥çœ‹å¼‚å¸¸æ‰€åœ¨çš„ä»£ç ä½ç½®ã€‚<br>
Sentry é›†æˆsourcemap</p>
<p>å¸è½½ sentry<br>
éœ€è¦å¸è½½å¯å‚è€ƒä»¥ä¸‹é“¾æ¥ã€‚<br>
å¦‚ä½•å¸è½½Sentryï¼Ÿ</p>
<p>è§¦å‘ä¸€ä¸ªå¼‚å¸¸çœ‹çœ‹<br>
onClick={() =&gt; {<br>
let a = {};<br>
console.log(a.b.c);<br>
}}<br>
åœ¨è¿™é‡Œæˆ‘åˆ¶é€ äº†ä¸€ä¸ªå¼‚å¸¸ä»£ç ï¼Œç‚¹å‡»åå¤§å®¶å¯æƒ³è€ŒçŸ¥ä¼šå‡ºç°ä¸€ä¸ª js errorï¼Œå¦‚ä¸‹å›¾ã€‚</p>
<p>åœ¨ network ä¸­æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ä¸€æ¡è¯·æ±‚ï¼ŒSentry å°±æ˜¯é€šè¿‡è¿™æ ·çš„æ–¹å¼ä¸Šä¼ é”™è¯¯çš„ã€‚</p>
<p>ç„¶åè½¬åˆ° Sentry ç³»ç»Ÿé¡µé¢ä¸Šï¼Œå¯ä»¥çœ‹åˆ° Issues é¢æ¿ä¸­å¤šäº†ä¸€æ¡ä¿¡æ¯ï¼š</p>
<p>ç‚¹å‡»è¿›å…¥åå¯ä»¥çœ‹åˆ°å…³äºè¿™æ¡å¼‚å¸¸çš„è¯¦ç»†ä¿¡æ¯ã€‚</p>
<p>å¯ä»¥çœ‹åˆ°ï¼Œè¯¦æƒ…é‡Œæ”¶é›†äº†å¤§é‡çš„å¼‚å¸¸ç›¸å…³æ•°æ®ï¼Œå¦‚è®¾å¤‡ã€æµè§ˆå™¨ç‰ˆæœ¬ã€ipåœ°å€ã€error æ•°æ®ã€ç”¨æˆ·æ“ä½œæ ˆç­‰æ•°æ®ã€‚ä½†å…‰æœ‰è¿™äº›æ•°æ®æ˜¯ä¸å¤Ÿçš„ï¼ŒåŸå§‹çš„ä¸Šä¼ ä¿¡æ¯æœ‰æ—¶ä¹Ÿä¸è¶³ä»¥åˆ†æé—®é¢˜ï¼Œå¾ˆå¤šæ—¶å€™æˆ‘ä»¬éœ€è¦æ ¹æ®ä¸šåŠ¡åœºæ™¯å®šåˆ¶æ‰€é‡‡é›†çš„æ•°æ®ã€‚ä¸‹é¢æˆ‘ä»¬å°†ä»æ•æ‰åœºæ™¯å’Œé‡‡é›†å†…å®¹è¿™ä¸¤æ–¹é¢è¿›è¡Œåˆ†æã€‚</p>
<p>å¼‚å¸¸ä¿¡æ¯æ•æ‰åœºæ™¯åŠé‡‡é›†å†…å®¹<br>
æ•æ‰åœºæ™¯<br>
é’ˆå¯¹å‰ç«¯å¸¸è§ä¸šåŠ¡åœºæ™¯ï¼Œæ€»ç»“äº†ä»¥ä¸‹å‡ ä¸ªåœºæ™¯éœ€è¦æ”¶é›†ä¸šåŠ¡æŠ¥é”™ä¿¡æ¯ã€‚</p>
<p>æ¥å£é”™è¯¯<br>
ç½‘ç»œé”™è¯¯<br>
js error æŠ¥é”™<br>
ä¸»è¦ä¸šåŠ¡æµç¨‹å¼‚å¸¸çŠ¶æ€<br>
iframe/webview å†…éƒ¨é”™è¯¯<br>
ä»¥ä¸Šå¼‚å¸¸å¦‚æœè§¦å‘äº† js error æˆ–è€… Promise.reject å¹¶ä¸”æ²¡æœ‰è¢«æŠ›å‡ºï¼Œä¼šè¢« Sentry è‡ªåŠ¨æ•æ‰åˆ°ï¼Œå¦‚æœæ²¡æœ‰è‡ªåŠ¨è§¦å‘å¯æ‰‹åŠ¨ new Error æˆ– Promise.reject(error) æŠ›å‡ºå¼‚å¸¸ï¼Œå³å¯è¢« Sentry æ”¶é›†ã€‚æˆ–è€…ä½¿ç”¨ captureMessage Api æ”¶é›†è¿è¡Œæ—¥å¿—ã€‚</p>
<p>é‡‡é›†å†…å®¹<br>
å°½ç®¡ Sentry SDK ä¼šæ•è·æ‰€æœ‰æœªå¤„ç†çš„å¼‚å¸¸å’Œäº‹åŠ¡æ±‡æŠ¥è‡³ç³»ç»Ÿä¸Šï¼Œå¹¶ä¸”ä¼šè®°å½•äº§ç”Ÿå¼‚å¸¸çš„é¡µé¢åŠè®¾å¤‡ä¿¡æ¯ã€‚ä½†æ˜¯æœ‰è¿™äº›ä¿¡æ¯æ˜¯è¿œè¿œä¸å¤Ÿçš„ï¼Œè¿˜éœ€è¦é¢å¤–çš„ä¸šåŠ¡ä¿¡æ¯ï¼Œç”¨äºæ›´å¥½çš„åŒºåˆ«å®šä½é—®é¢˜ã€‚ä¸‹é¢æ˜¯æˆ‘å¯¹ä¸ŠæŠ¥å¼‚å¸¸æ‰€éœ€è¦æ”¶é›†çš„å†…å®¹è¿›è¡Œæ€»ç»“ã€‚</p>
<p>å¼‚å¸¸ä¿¡æ¯ï¼šæŠ›å‡ºå¼‚å¸¸çš„ error ä¿¡æ¯ï¼ŒSentry ä¼šè‡ªåŠ¨æ•æ‰ã€‚</p>
<p>ç”¨æˆ·ä¿¡æ¯ï¼šç”¨æˆ·çš„ä¿¡æ¯ï¼ˆç™»å½•åã€idã€level ç­‰ï¼‰ï¼Œæ‰€å±æœºæ„ä¿¡æ¯ï¼Œæ‰€å±å…¬å¸ä¿¡æ¯ã€‚</p>
<p>è¡Œä¸ºä¿¡æ¯ï¼šç”¨æˆ·çš„æ“ä½œè¿‡ç¨‹ï¼Œä¾‹å¦‚ç™»é™†åè¿›å…¥ xx é¡µé¢ï¼Œç‚¹å‡» xx æŒ‰é’®ï¼ŒSentry ä¼šè‡ªåŠ¨æ•æ‰ã€‚</p>
<p>ç‰ˆæœ¬ä¿¡æ¯ï¼šè¿è¡Œé¡¹ç›®çš„ç‰ˆæœ¬ä¿¡æ¯ï¼ˆæµ‹è¯•ã€ç”Ÿäº§ã€ç°åº¦ï¼‰ï¼Œä»¥åŠç‰ˆæœ¬å·ã€‚</p>
<p>è®¾å¤‡ä¿¡æ¯ï¼šé¡¹ç›®ä½¿ç”¨çš„å¹³å°ï¼Œweb é¡¹ç›®åŒ…æ‹¬è¿è¡Œè®¾å¤‡ä¿¡æ¯åŠæµè§ˆå™¨ç‰ˆæœ¬ä¿¡æ¯ã€‚å°ç¨‹åºé¡¹ç›®åŒ…æ‹¬è¿è¡Œæ‰‹æœºçš„æ‰‹æœºå‹å·ã€ç³»ç»Ÿç‰ˆæœ¬åŠå¾®ä¿¡ç‰ˆæœ¬ã€‚</p>
<p>æ—¶é—´æˆ³ï¼šè®°å½•å¼‚å¸¸å‘ç”Ÿæ—¶é—´ï¼ŒSentry ä¼šè‡ªåŠ¨æ•æ‰ã€‚</p>
<p>å¼‚å¸¸ç­‰çº§ï¼šæ ¹æ® Sentry æ–‡æ¡£åˆ†ä¸ºä»¥ä¸‹å‡ ä¸ªç­‰çº§ã€‚</p>
<p>Critical<br>
Debug<br>
Error<br>
Fatal<br>
Info<br>
Log<br>
Warning<br>
å¹³å°ä¿¡æ¯ï¼šè®°å½•å¼‚å¸¸å‘ç”Ÿçš„é¡¹ç›®ã€‚</p>
<p>æœ‰ä»¥ä¸Šå†…å®¹çš„è¡¥å…¨ï¼Œå†åŠ ä¸ŠåŸæœ‰çš„å¼‚å¸¸æ•°æ®ï¼Œå¯¹äºä¸€ä¸ªæŠ¥é”™æ˜¯ä¸æ˜¯å°±æ›´æ¸…æ™°æ˜äº†äº†å‘¢ã€‚</p>
<p>å°ç¨‹åºæ¥å…¥ Sentry<br>
Sentry æ— å®˜æ–¹ api ç”¨äºæä¾›ç»™å°ç¨‹åºï¼Œå¥½åœ¨æœ‰ç¬¬ä¸‰æ–¹æ ¹æ®æä¾›çš„åº“ï¼Œå¯ä½¿ç”¨åŸæœ‰ api å®ç°å°ç¨‹åºç«¯çš„å¼‚å¸¸ç›‘æ§ã€‚</p>
<p>å®‰è£…<br>
npm install sentry-mina --save<br>
yarn add sentry-mina<br>
å°† browser/sentry-mina.js æ‹·è´åˆ°é¡¹ç›®ä¸­<br>
ä½¿ç”¨<br>
import * as Sentry from &quot;sentry-mina/browser/sentry-mina.js&quot;;<br>
// import * as Sentry from &quot;sentry-mina&quot;;<br>
// config Sentry<br>
Sentry.init({<br>
dsn: &quot;&quot;,<br>
});<br>
// Set user information, as well as tags and further extras<br>
Sentry.configureScope((scope) =&gt; {<br>
scope.setUser({ id: &quot;4711&quot; });<br>
scope.setTag(&quot;user_mode&quot;, &quot;admin&quot;);<br>
scope.setExtra(&quot;battery&quot;, 0.7);<br>
// scope.clear();<br>
});<br>
// Add a breadcrumb for future events<br>
Sentry.addBreadcrumb({<br>
message: &quot;My Breadcrumb&quot;,<br>
// ...<br>
});<br>
// Capture exceptions, messages or manual events<br>
Sentry.captureMessage(&quot;Hello, world!&quot;);<br>
Sentry.captureException(new Error(&quot;Good bye&quot;));<br>
Sentry.captureEvent({<br>
message: &quot;Manual&quot;,<br>
stacktrace: [<br>
// ...<br>
],<br>
});<br>
å…¶ä»–å†…å®¹è§æ–‡æ¡£ Sentry å°ç¨‹åº SDKã€‚</p>
<p>é—®é¢˜æ€»ç»“<br>
ä¸‹é¢æ˜¯æˆ‘åœ¨æ¥å…¥ Sentry åŠåç»­ä½¿ç”¨æ—¶é‡åˆ°çš„é—®é¢˜ã€‚</p>
<p>consolelog ä¸æ˜¾ç¤º sourmap åœ°å€<br>
consolelog ä¸æ˜¾ç¤º sourmap åœ°å€</p>
<p>è¿™ä¸ªé—®é¢˜äº§ç”Ÿçš„åŸå› æ˜¯ï¼ŒSentry ä¼šä¿®æ”¹åŸç”Ÿ console æ–¹æ³•æ”¶é›† consoleï¼Œæ‰€ä»¥è¿™è¾¹ä¸ä¼šæ˜¾ç¤º sourcemap åœ°å€ï¼Œå¯ä»¥åœ¨å¼€å‘ç¯å¢ƒä¸‹å–æ¶ˆæ³¨å†Œ Sentryã€‚</p>
<p>æœ¬æ–‡é¦–å‘äºæˆ‘çš„åšå®¢ mogii'blog æ¬¢è¿å¤§å®¶å…‰ä¸´~<br>
https://segmentfault.com/a/1190000040237095</p>

<span id="footnote"></span>
<div id = "warn"></div>
</div>
<div class="toc-container"></div>
</div>
<div id="fullPage"><canvas id="canvas"></canvas></div>
</article>
<div id="eof"><span>EOF</span></div><div class="round-shape-one"></div>
<section>
<div class="doc_comments">

</div></section>
</div></div></div><script>
"use strict";!function(){for(var n=document.getElementsByTagName("pre"),e=n.length,s=0;s<e;s++){n[s].innerHTML='<span class="line-number"></span>'+n[s].innerHTML+'<span class="cl"></span>';for(var a=n[s].innerHTML.split(/\n/).length,r=0;r<a-1;r++){n[s].getElementsByTagName("span")[0].innerHTML+="<span>"+(r+1)+"</span>"}}}();
let mainNavLinks=document.querySelectorAll(".markdownIt-TOC a");window.addEventListener("scroll",event=>{let fromTop=window.scrollY;mainNavLinks.forEach((link,index)=>{let section=document.getElementById(decodeURI(link.hash).substring(1));let nextSection=null
if(mainNavLinks[index+1]){nextSection=document.getElementById(decodeURI(mainNavLinks[index+1].hash).substring(1));}
if(section.offsetTop<=fromTop){if(nextSection){if(nextSection.offsetTop>fromTop){link.classList.add("currentToc");}else{link.classList.remove("currentToc");}}else{link.classList.add("currentToc");}}else{link.classList.remove("currentToc");}});});
var list=document.querySelectorAll(".katex");for(var i=0;i<list.length;i++){list[i].style.display="unset"};
var h=document.documentElement,b=document.body,st="scrollTop",sh="scrollHeight",progress=document.querySelector(".progress"),scroll;document.addEventListener("scroll",function(){scroll=(h[st]||b[st])/((h[sh]||b[sh])-h.clientHeight)*100;progress.style.setProperty("--scroll",scroll+"%")});
var wxScale=new WxScale({fullPage:document.querySelector("#fullPage"),canvas:document.querySelector("#canvas")});var imgBox=document.querySelectorAll("#md_block img");for(var i=0;i<imgBox.length;i++){imgBox[i].onclick=function(e){wxScale.start(this)}};
content="æœ¬æ–‡æœ€åæ›´æ–°äº2021-12-22ï¼Œå·²è¶…è¿‡ 1 å¹´æ²¡æœ‰æ›´æ–°ï¼Œæ¶‰åŠçš„å†…å®¹å¯èƒ½å·²ç»å¤±æ•ˆï¼";var date1="2021-12-22 18:11:52";date1=date1.replace("-","/");var date2=new Date();var date3=date2.getTime()-new Date(date1).getTime();var days=Math.floor(date3/(24*3600*1000));if(days>=365){document.getElementById("warn").innerHTML=content};
</script>
<style>#magnifyImg{position:fixed;left:0;top:0;text-align:center;width:100%;display:none;z-index:9999}#magnifyImg img{object-fit:contain;background:#eaecef;padding:15px;border-radius:10px;height:auto;width:auto;vertical-align:middle}</style>
<a id="scrollUp" href="#top" style="position: fixed; z-index: 2147483647; display: block;"></a><div class="footer animated fadeInDown"><div class="site_footer"><div class="mysocials"><div class="my_socials"></div></div><div class="copyright"id="copyright">Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a>Copyright Â© 2018-2020 <a href="https://181016.xyz" style="margin:0;">Gridea</a>.</div>
<span style="display: inline;margin-right:15px;">ğŸ‘<strong><span id="busuanzi_value_site_uv"></span></strong></span><span id="busuanzi_container_page_pv" style="display: inline;"><span>ğŸ“š<strong>42</strong> posts</span></div></div>
<script>
console.log("\n %c \u26a1Theme: Bitcron-pro Author's Blog:https://blog.blinkstar.cn  Writen By Serence  \n\n", "color: #ffffff; background: rgba(49, 49, 49, 0.85); padding:5px 0;border-radius:5px;", );
</script>
<script src="https://cdn.jsdelivr.net/npm/instant.page@3.0.0/instantpage.min.js" type="module" defer></script>
<script type="text/javascript" async src="https://181016.xyz/media/js/prism.js"></script>
</body>
</html>